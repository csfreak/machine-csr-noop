apiVersion: operators.coreos.com/v1alpha1  
kind: CatalogSource
metadata:
  name: machine-csr-noop-catalog
  namespace: machine-csr-noop
spec:
  sourceType: grpc
  image: quay.io/csfreak/machine-csr-noop-catalog:latest
  displayName: Machine Node NoOp
  publisher: Jason Ross
  updateStrategy:
    registryPoll:
      interval: 1m
  grpcPodConfig:
    nodeSelector:
      kubernetes.io/os: linux
      node-role.kubernetes.io/master: ''
    priorityClassName: system-cluster-critical
    ## These tolerations partially duplicate the namespace annotation tolerations, but as its possible to be explicit here, its worth being explicit.
    tolerations:
      - effect: NoSchedule
        key: node-role.kubernetes.io/master
        operator: Exists
      - effect: NoExecute
        key: node.kubernetes.io/unreachable
        operator: Exists
        tolerationSeconds: 120
      - effect: NoExecute
        key: node.kubernetes.io/not-ready
        operator: Exists
        tolerationSeconds: 120